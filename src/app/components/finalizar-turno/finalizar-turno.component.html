<form [formGroup]="form">
    <h1 class="title">Finalizar turno</h1>
    <ul>
        <li>Fecha: {{ConvertirFecha(turnoRecibido?.fecha) | date:'medium' }} </li>
        <li>Especialidad: {{turnoRecibido?.especialidad}}</li>
        <li>Paciente: {{turnoRecibido?.paciente}}</li>
    </ul>

    <div class="form-group mb-3 mt-3">
        <label for="resena">Rese√±a finalizacion</label>
        <textarea class="form-control" id="resena" formControlName="resena" rows="3" required></textarea>
    </div>

    <div class="form-group mb-3 mt-3">
        <label for="resena">Diagnostico</label>
        <textarea class="form-control" id="resena" formControlName="diagnostico" rows="3" required></textarea>
    </div>

    <div class="row mb-2">
        <div class="col-4">
            <label for="">Altura</label>
            <input type="number" class="form-control" formControlName="altura" required>
        </div>
        <div class="col-4">
            <label for="">Peso</label>
            <input type="number" class="form-control" formControlName="peso" required>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-4">
            <label for="">Temperatura</label>
            <input type="number" class="form-control" formControlName="temperatura" required>
        </div>
        <div class="col-4">
            <label for="">Presion</label>
            <input type="text" class="form-control" formControlName="presion" required>
        </div>
    </div>

    <div class="row mb-2">
        <div class="example-button-row">
            <div class="example-flex-container">
                <div class="example-button-container">                    
                    <button mat-mini-fab color="primary" (click)="AgregarParametro()">
                        <mat-icon>filter_3</mat-icon>
                      </button>
                      <label class="m-1">Parametros numericos</label>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-2" *ngIf="mostrarParametroUno">
        <div class="col-6">
            <label for="">Parametro</label>
            <input type="text" class="form-control" formControlName="clave_parametro_dinamico_1">
        </div>
        <div class="col-6">
            <label for="">Valor</label>
            <input type="text" class="form-control" formControlName="valor_parametro_dinamico_1">
        </div>
    </div>

    <div class="row mb-2" *ngIf="mostrarParametroDos">
        <div class="col-6">
            <label for="">Parametro</label>
            <input type="text" class="form-control" formControlName="clave_parametro_dinamico_2">
        </div>
        <div class="col-6">
            <label for="">Valor</label>
            <input type="text" class="form-control" formControlName="valor_parametro_dinamico_2">
        </div>
    </div>

    <div class="row mb-2" *ngIf="mostrarParametroTres">
        <div class="col-6">
            <label for="">Parametro</label>
            <input type="text" class="form-control" formControlName="clave_parametro_dinamico_3">
        </div>
        <div class="col-6">
            <label for="">Valor</label>
            <input type="text" class="form-control" formControlName="valor_parametro_dinamico_3">
        </div>
    </div>

    <div class="row mb-2">
        <div class="example-button-row">
            <div class="example-flex-container">
                <div class="example-button-container">
                    <button mat-mini-fab color="primary" (click)="ConfigurarParametrosDinamicos()">
                        <mat-icon>add_circle</mat-icon>
                      </button>
                      <label class="m-1">Parametros dinamicos</label>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-2" *ngIf="mostrarOpcionesDinamicas">


        <section class="example-section">
            <!-- <label class="example-margin">Tipo:</label> -->
             <div class="row">
                 <div class="form-check col-12" *ngIf="mostrarOpcionParametroCuatro">
                     <input class="form-check-input" type="radio" name="dinamicType" id="flexRadioSlider" value="slider" formControlName="dinamicType">
                     <label class="form-check-label" for="flexRadioSlider">
                         Control de rango numerico
                     </label>
                 </div>
             </div>
             <div class="row">
                 <div class="form-check col-12" *ngIf="mostrarOpcionParametroCinco">
                     <input class="form-check-input" type="radio" name="dinamicType" id="flexRadioNumero" value="numero" formControlName="dinamicType">
                     <label class="form-check-label" for="flexRadioNumero">
                         Cuadro de texto numerico
                     </label>
                 </div>
             </div>
             <div class="row">
                 <div class="form-check col-12" *ngIf="mostrarOpcionParametroSeis">
                     <input class="form-check-input" type="radio" name="dinamicType" id="flexRadioToggle" value="toggle" formControlName="dinamicType">
                     <label class="form-check-label" for="flexRadioToggle">
                         Switch
                     </label>
                 </div>

             </div>
        </section>
        <button class="btn btn-primary mb-2" (click)="AgregarMasParametros()" *ngIf="mostrarBotonAgregar">Agregar</button>
    </div>

    <div class="row mb-2" *ngIf="mostrarParametroCuatro">
        <hr>
        <div class="col-6">
            <div class="mb-3">
                <label for="nombreInput" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombreInput" formControlName="clave_parametro_dinamico_4">
            </div>
        </div>
        <div class="col-6">
                    <div class="mb-3">
                        <label class="form-label">{{slider.value}}</label>
                    </div>
                    <input type="range" class="form-range" 
                        [disabled]="disabledSlider"
                        [max]="max"
                        [min]="min"
                        [step]="step"
                        formControlName="valor_parametro_dinamico_4" 
                        #slider>
        </div>
    </div>

    <div class="row mb-2" *ngIf="mostrarParametroCinco">
        <hr>
        <div class="col-md-6">
            <div class="mb-3">
                <label for="nombreInput5" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombreInput5" formControlName="clave_parametro_dinamico_5">
            </div>
        </div>
        <div class="col-md-6">
            <div class="mb-3">
                <label for="valorInput5" class="form-label">Valor</label>
                <input type="text" class="form-control" id="valorInput5" formControlName="valor_parametro_dinamico_5" min="0" max="100">
            </div>
        </div>
    </div>

    
    
    <div class="row mb-2" *ngIf="mostrarParametroSeis">
        <hr>
        <div class="col-6">
            <div class="mb-3">
                <label for="nombreInput6" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombreInput6" formControlName="clave_parametro_dinamico_6">
            </div>
        </div>
        <div class="col-6">
                    <section class="example-section">
                        <div class="form-check form-switch form-switch-lg mt-5 pt-3">
                            <input class="form-check-input" type="checkbox" role="switch" id="valorToggle6" formControlName="valor_parametro_dinamico_6" [disabled]="disabled">
                        </div>
                    </section>
        </div>
        <hr>
    </div>

    <p>Realmente desea finalizar el turno?</p>

    <button class="btn btn-primary" data-bs-dismiss="modal" (click)="FinalizarTurno()">Si</button>
    <button class="btn btn-secondary" data-bs-dismiss="modal">No</button>
</form>